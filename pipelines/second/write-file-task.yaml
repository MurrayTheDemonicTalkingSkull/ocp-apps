apiVersion: tekton.dev/v1
kind: Task
metadata:
  name: write-file-task
spec:
  steps:
    - name: write-file
      image: registry.access.redhat.com/ubi8/ubi:latest
      script: |
        #!/usr/bin/env bash
        set -xe
        if [ "$(workspaces.pipeline-ws1.bound)" == "true" ] ; then
          echo hello! > $(workspaces.pipeline-ws1.path)/message
        fi    
  workspaces:
    - name: pipeline-ws1
      description: |
        The folder where we write the message to. If no workspace
        is provided then the message will not be written.
      optional: true
      mountPath: /uth